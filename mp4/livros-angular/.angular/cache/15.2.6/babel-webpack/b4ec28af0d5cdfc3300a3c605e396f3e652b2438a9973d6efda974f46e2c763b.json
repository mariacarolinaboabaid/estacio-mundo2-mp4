{"ast":null,"code":"import { Livro } from '../livro';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../controle-editora.service\";\nimport * as i2 from \"../controle-livros.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction LivroDadosComponent_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const editora_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", editora_r1.codEditora);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(editora_r1.nome);\n  }\n}\nexport class LivroDadosComponent {\n  constructor(servEditora, servLivros, router) {\n    this.servEditora = servEditora;\n    this.servLivros = servLivros;\n    this.router = router;\n    this.livro = new Livro(0, 0, '', '', []);\n    this.autoresForm = '';\n    this.editoras = [];\n    this.incluir = () => {\n      this.livro.codEditora = this.livro.codEditora;\n      this.livro.autores = this.autoresForm.split(',').map(autor => autor.trim());\n      this.servLivros.incluir(this.livro);\n      alert('Autores: ' + this.livro.autores.join(', '));\n      alert('Editora: ' + this.livro.codEditora);\n      this.router.navigateByUrl('/lista');\n    };\n  }\n  ngOnInit() {\n    this.servEditora.getEditoras().return;\n    this.servEditora.getNomeEditora(codEditora);\n  }\n}\nLivroDadosComponent.ɵfac = function LivroDadosComponent_Factory(t) {\n  return new (t || LivroDadosComponent)(i0.ɵɵdirectiveInject(i1.ControleEditoraService), i0.ɵɵdirectiveInject(i2.ControleLivrosService), i0.ɵɵdirectiveInject(i3.Router));\n};\nLivroDadosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LivroDadosComponent,\n  selectors: [[\"app-livro-dados\"]],\n  decls: 23,\n  vars: 5,\n  consts: [[1, \"container\"], [\"ngNativeValidate\", \"\", 3, \"submit\"], [1, \"form-group\"], [\"for\", \"titulo\"], [\"type\", \"text\", \"id\", \"titulo\", \"name\", \"titulo\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"resumo\"], [\"id\", \"resumo\", \"name\", \"resumo\", \"rows\", \"3\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"editora\"], [\"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\", \"hidden\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"autor\"], [\"id\", \"autor\", \"rows\", \"3\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 2, \"margin-top\", \"30px\"], [3, \"value\"]],\n  template: function LivroDadosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\", 0)(1, \"form\", 1);\n      i0.ɵɵlistener(\"submit\", function LivroDadosComponent_Template_form_submit_1_listener() {\n        return ctx.incluir();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n      i0.ɵɵtext(4, \"T\\u00EDtulo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function LivroDadosComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.livro.titulo = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 5);\n      i0.ɵɵtext(8, \"Resumo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"textarea\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function LivroDadosComponent_Template_textarea_ngModelChange_9_listener($event) {\n        return ctx.livro.resumo = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"Editora\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function LivroDadosComponent_Template_select_ngModelChange_13_listener($event) {\n        return ctx.livro.codEditora = $event;\n      });\n      i0.ɵɵelementStart(14, \"option\", 9);\n      i0.ɵɵtext(15, \"Selecione uma editora\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, LivroDadosComponent_option_16_Template, 2, 2, \"option\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 2)(18, \"label\", 11);\n      i0.ɵɵtext(19, \"Autor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"textarea\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function LivroDadosComponent_Template_textarea_ngModelChange_20_listener($event) {\n        return ctx.autoresForm = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"button\", 13);\n      i0.ɵɵtext(22, \"Salvar Dados\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.livro.titulo);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.livro.resumo);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.livro.codEditora);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.editoras);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.autoresForm);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,KAAK,QAAQ,UAAU;;;;;;;;;ICYhBC,kCAAsE;IAAAA,YAAkB;IAAAA,iBAAS;;;;IAAxDA,6CAA4B;IAACA,eAAkB;IAAlBA,qCAAkB;;;ADHxG,OAAM,MAAOC,mBAAmB;EAK9BC,YAAoBC,WAAmC,EACnCC,UAAiC,EACjCC,MAAc;IAFd,gBAAW,GAAXF,WAAW;IACX,eAAU,GAAVC,UAAU;IACV,WAAM,GAANC,MAAM;IAN1B,UAAK,GAAU,IAAIN,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IAC1C,gBAAW,GAAW,EAAE;IACxB,aAAQ,GAAmB,EAAE;IAW7B,YAAO,GAAG,MAAK;MACb,IAAI,CAACO,KAAK,CAACC,UAAU,GAAG,IAAI,CAACD,KAAK,CAACC,UAAU;MAC7C,IAAI,CAACD,KAAK,CAACE,OAAO,GAAG,IAAI,CAACC,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,KAAK,IAAIA,KAAK,CAACC,IAAI,EAAE,CAAC;MAC3E,IAAI,CAACT,UAAU,CAACU,OAAO,CAAC,IAAI,CAACR,KAAK,CAAC;MACnCS,KAAK,CAAC,WAAW,GAAG,IAAI,CAACT,KAAK,CAACE,OAAO,CAACQ,IAAI,CAAC,IAAI,CAAC,CAAC;MAElDD,KAAK,CAAC,WAAW,GAAG,IAAI,CAACT,KAAK,CAACC,UAAU,CAAC;MAC1C,IAAI,CAACF,MAAM,CAACY,aAAa,CAAC,QAAQ,CAAC;IACrC,CAAC;EAfqC;EAEtCC,QAAQ;IACN,IAAI,CAACf,WAAW,CAACgB,WAAW,EAAE,CAACC,MAAM;IAAC,IAAI,CAACjB,WAAW,CAACkB,cAAc,CAACd,UAAU,CAAC;EACjF;;AAXSN,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdhC1B,+BAAwB;MAEdA;QAAA,OAAU2B,aAAS;MAAA,EAAC;MACtB3B,8BAAwB;MACAA,2BAAM;MAAAA,iBAAQ;MAClCA,gCAAsG;MAApCA;QAAA;MAAA,EAA0B;MAA5FA,iBAAsG;MAG1GA,8BAAwB;MACAA,sBAAM;MAAAA,iBAAQ;MAClCA,mCAA6F;MAA3BA;QAAA;MAAA,EAA0B;MAACA,iBAAW;MAG5GA,+BAAwB;MACCA,wBAAO;MAAAA,iBAAQ;MACpCA,kCAAqE;MAAxCA;QAAA;MAAA,EAA8B;MACvDA,kCAA0C;MAAAA,sCAAqB;MAAAA,iBAAS;MACxEA,6EAAiG;MACrGA,iBAAS;MAGbA,+BAAwB;MACDA,sBAAK;MAAAA,iBAAQ;MAChCA,qCAA6E;MAA1BA;QAAA;MAAA,EAAyB;MAACA,iBAAW;MAG5FA,mCAAwE;MAAAA,6BAAY;MAAAA,iBAAS;;;MArBvBA,eAA0B;MAA1BA,0CAA0B;MAK1BA,eAA0B;MAA1BA,0CAA0B;MAK/DA,eAA8B;MAA9BA,8CAA8B;MAE3BA,eAAW;MAAXA,sCAAW;MAMQA,eAAyB;MAAzBA,yCAAyB","names":["Livro","i0","LivroDadosComponent","constructor","servEditora","servLivros","router","livro","codEditora","autores","autoresForm","split","map","autor","trim","incluir","alert","join","navigateByUrl","ngOnInit","getEditoras","return","getNomeEditora","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/mariacarolinaboabaid/Downloads/Estácio/mp4/livros-angular/src/app/livro-dados/livro-dados.component.ts","/Users/mariacarolinaboabaid/Downloads/Estácio/mp4/livros-angular/src/app/livro-dados/livro-dados.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ControleLivrosService } from '../controle-livros.service';\nimport { ControleEditoraService } from '../controle-editora.service';\nimport { Livro } from '../livro';\nimport { Editora } from '../editora';\n\n@Component({\n  selector: 'app-livro-dados',\n  templateUrl: './livro-dados.component.html',\n  styleUrls: ['./livro-dados.component.css']\n})\n\nexport class LivroDadosComponent implements OnInit {\n  livro: Livro = new Livro(0, 0, '', '', []);\n  autoresForm: string = '';\n  editoras: Array<Editora> = [];\n\n  constructor(private servEditora: ControleEditoraService,\n              private servLivros: ControleLivrosService,\n              private router: Router) { }\n\n  ngOnInit(): void {\n    this.servEditora.getEditoras().return this.servEditora.getNomeEditora(codEditora);\n    });\n\n\n  incluir = () => {\n    this.livro.codEditora = this.livro.codEditora;\n    this.livro.autores = this.autoresForm.split(',').map(autor => autor.trim());\n    this.servLivros.incluir(this.livro);\n    alert('Autores: ' + this.livro.autores.join(', '));\n  \n    alert('Editora: ' + this.livro.codEditora);\n    this.router.navigateByUrl('/lista');\n  }\n \n}\n\n\n","<main class=\"container\">\n\n    <form (submit)=\"incluir()\" ngNativeValidate>\n        <div class=\"form-group\">\n            <label for=\"titulo\">Título</label>\n            <input type=\"text\" class=\"form-control\" id=\"titulo\" name=\"titulo\" [(ngModel)]=\"livro.titulo\" required>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"resumo\">Resumo</label>\n            <textarea class=\"form-control\" id=\"resumo\" name=\"resumo\" rows=\"3\" [(ngModel)]=\"livro.resumo\"></textarea>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"editora\">Editora</label>\n            <select class=\"form-control\" [(ngModel)]=\"livro.codEditora\" required>\n                <option value=\"\" disabled selected hidden>Selecione uma editora</option>\n                <option *ngFor=\"let editora of editoras\" [value]=\"editora.codEditora\">{{ editora.nome }}</option>\n            </select>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"autor\">Autor</label>\n            <textarea class=\"form-control\" id=\"autor\" rows=\"3\" [(ngModel)]=\"autoresForm\"></textarea>\n        </div>\n\n        <button type=\"submit\" class=\"btn btn-primary\" style=\"margin-top: 30px;\">Salvar Dados</button>\n    </form>\n</main>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}